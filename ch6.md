# 네트워크 연결 옵션
## 1. 네트워크 연결 옵션 소개
### 1. 네트워크 연결 옵션
#### 1. VPC 피어링
- VPC 피어링은 서로 다른 두 VPC간 연결을 구성하여 프라이빗 IP주소를 통해 통신을 할 수 있는 기능을 제공한다.

![1](/images/ch6/vpcperring.png)

#### 2. VPN
- VPN은 가상의 사설 네트워크를 구성하여 프라이빗 통신을 제공한다. AWS에서 제공하는 관리형 VPN 서비스에는 `Site-toSite VPN` 과 `클라이언트 VPN` 이 있다.
  - AWS Site-to-Site VPN 연결
    ````
    AWS 서울리전 | <-> 가상프레이빗 게이트웨이 <-> 고객 게이트웨이 <-> | 회사IDC
    ````
  - AWS Client VPN 연결
    ````
    AWS 서울리전 | <-> 클라이언트VPN 엔드포인트 <-> | 클라이언트
    ````

#### 3. 전송 게이트웨이(Transit Gateway)
- AWS 전송 게이트웨이는 `VPC나 온프레미스등의 네트워크를 단일지점으로 연결`할 수 있는 라우팅 서비스이다.
  - 리전 간 VPC 피어링, Site-toSite VPN, Direct Connect GateWay 등을 `한꺼번에 전송게이트 단일지점으로 연결`

#### 4. Route 53 Resolver(해석기)
- 하이브리드 환경(VPN 혹은 Direct Connect로 연결)에서 온프레미스와 AWS VPC간 도메인 질의는 서로 불가하다.
  ROUTE 53해석기와 전달 규칙을 이용하여 서로간에 도메인 지르이가 가능해진다.

#### 5. Direct Connect
- Direct Connect는 데이터 센터, 본사 사무실 또는 코로케이션 환경과 같은 장소에서 AWS와의 전용 네트워크 연결을 제공하는 전용선 서비스

## 2. VPC 피어링(VPC Peering)
### 1. VPC 피어링 소개
- 서로 다른 두 VPC 간 연결을 구성하여 프라이빗 IP 주소를 통해 통신을 할 수 있는 기능을 제공한다.(마치 동일 네트워크에 있는것처럼 서로 통신)

### 2. VPC 피어링 기능
1) 고속 네트워크, 트래픽 암호화 및 비용 절감
   1) VPC 피어링을 사용하면 발생하는 트래픽이 AWS 백본 네트워크를 경유하여 고속의 통신을 할수 있다.
2) 리전 간 VPC 피어링 지원
   1) 중국 리전을 제외하고 리전 간 VPC 피어링을 지원한다.
3) 타 계정 간 VPC 피어링 지원
   1) 동일 계정 내의 VPC 피어링 뿐만 아니라 `타 계정 간 VPC 피어링`도 지원한다.

### 3. VPC 피어링 제약 조건
1) 서로 다른 VPC CIDR(네트워크 대역) 사용 필요
   1) VPC 피어링을 구성하는 각 VPC에 할당된 IP CIDR는 동일하거나 겹치지 않아야 한다.
2) Transit Routing 미지원
   1) VPC 피어링 연결 구성 시, 상대방 VPC의 IP CIDR 대역 외에 다른 대역과 통신할 수 없다.
3) VPC 피어링 최대 연결 제한

## 3. [실습6-1] 서로 다른 두 VPC간 피어링 설정
- 실습 목표 : VPC 피어링을 통해 2개의 VPC 간 프라이빗 IP 통신을 설정하여 서로의 프라이빗IP로 웹서버 접속이 가능하게 설정한다.
- 목표 구성도 : P301 [그림3]


## 4. AWS 제공 VPN
## 5. [실습6-2] AWS와 온프레미스간 VPN 통신
## 6. 전송 게이트웨이(Transit Gateway)
## 7. [실습6-3] 전송 게이트웨이를 통한 연결
## 8. Route 53 DNS 해석기 (Resolver)
## 9. [실습6-4] Route 53 DNS 해석기
## 10. Direct Connect